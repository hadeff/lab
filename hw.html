<!DOCTYPE html>
<html lang="ar">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>دخول مقيد</title>
        <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            direction: rtl; /* لجعل النص من اليمين لليسار */
        }
        .container {
            max-width: 600px;
            margin: 100px auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .success {
            color: green;
            font-weight: bold;
        }
    </style>
    </head>
    <body>
        <div class="container">
            <h1>مرحباً بكم في الموقع المحمي</h1>
            <p id="message">جارٍ التحقق من صلاحية الوصول...</p>
        </div>

        <script>
        // قائمة الـ IPs المسموح لها بالدخول
        const allowedIPs = [
            "197.53.216.166", "IP_2", "IP_3", "IP_4", "IP_5", 
            "IP_6", "IP_7", "IP_8", "IP_9", "IP_10", 
            "IP_11", "IP_12", "IP_13", "IP_14", "IP_15", 
            "IP_16", "IP_17", "IP_18", "IP_19", "IP_20", 
            "IP_21", "IP_22", "IP_23", "IP_24", "IP_25", 
            "IP_26", "IP_27", "IP_28", "IP_29", "IP_30", 
            "IP_31", "IP_32", "IP_33", "IP_34", "IP_35", 
            "IP_36", "IP_37", "IP_38", "IP_39", "IP_40"
        ];

        // جلب الـ IP الخاص بالزائر
        fetch("https://api.ipify.org?format=json")
            .then(response => response.json())
            .then(data => {
                const userIP = data.ip;
                console.log("عنوان الـ IP الخاص بك هو:", userIP);

                // التحقق من الـ IP
                if (allowedIPs.includes(userIP)) {
                    document.getElementById("message").innerHTML = 
                        '<span class="success">تم السماح بالدخول! أهلاً وسهلاً!</span>';
                } else {
                    document.getElementById("message").innerHTML = 
                        `<span class="error">تم رفض الوصول!</span> عنوان الـ IP الخاص بك (${userIP}) غير مصرح به.`;
                }
            })
            .catch(error => {
                document.getElementById("message").textContent = 
                    "حدث خطأ أثناء التحقق من عنوان الـ IP. يرجى المحاولة لاحقاً.";
                console.error("خطأ:", error);
            });
    </script>
    </body>
</html>
